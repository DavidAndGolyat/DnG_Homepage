{"remainingRequest":"/Users/Yohan/Dropbox/Work/DnG/webpage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Yohan/Dropbox/Work/DnG/webpage/src/views/BriefingForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Yohan/Dropbox/Work/DnG/webpage/src/views/BriefingForm.vue","mtime":1556851060202},{"path":"/Users/Yohan/Dropbox/Work/DnG/webpage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Yohan/Dropbox/Work/DnG/webpage/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Yohan/Dropbox/Work/DnG/webpage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Yohan/Dropbox/Work/DnG/webpage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport router from \"../router\";\nimport jsZip from \"jszip\";\nimport { validationMixin } from \"vuelidate\";\nimport { required, email, minLength } from \"vuelidate/lib/validators\";\nimport { USER, PASS } from \"../API_KEY\";\n\nexport default {\n  name: \"briefingform\",\n  mixins: [validationMixin],\n  data: () => ({\n    isLogin: true,\n    user_name: null,\n    lines: [],\n    multiple: null,\n    dataUriForFiles: \"\",\n    attachName: \"\",\n    blockRemoval: true,\n    assetList: \"\",\n    addressList: \"\",\n    path: \"\",\n    form: {\n      requester: \"\",\n      email: \"\",\n      advertiser: \"\",\n      campaignName: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      currency: \"PHP\",\n      budget: \"\",\n      objective: \"\",\n      target: \"\",\n      material: \"\",\n      competitors: \"\",\n      additional: \"\",\n      assets: \"\",\n      address: \"\",\n      rowData: []\n    },\n    userSaved: false,\n    sending: false,\n    buttonMsg: \"Submit Request\"\n  }),\n  validations: {\n    form: {\n      requester: {\n        required,\n        minLength: minLength(3)\n      },\n      email: {\n        required,\n        email\n      },\n      advertiser: {\n        required,\n        maxLength: minLength(3)\n      },\n      campaignName: {\n        required\n      },\n      startDate: {\n        required\n      },\n      endDate: {\n        required\n      },\n      currency: {\n        required\n      },\n      budget: {\n        required\n      },\n      objective: {\n        required\n      },\n      target: {\n        required\n      },\n      competitors: {\n        required\n      },\n      material: {\n        required\n      }\n    }\n  },\n  methods: {\n    getValidationClass(fieldName) {\n      const field = this.$v.form[fieldName];\n\n      if (field) {\n        return {\n          \"md-invalid\": field.$invalid && field.$dirty\n        };\n      }\n    },\n\n    // To add line for digital assets\n    addLine() {\n      var my_object = {\n        asset: this.form.assets,\n        address: this.form.address\n      };\n      this.form.rowData.push(my_object);\n\n      this.form.assets = \"\";\n      this.form.address = \"\";\n    },\n\n    // Delete line in digital assets line\n    deleteLine(lineId) {\n      this.form.rowData.splice(lineId, 1);\n    },\n\n    // To validate Form which is required\n    validateForm() {\n      this.$v.$touch();\n\n      if (!this.$v.$invalid) {\n        this.saveDigitalAssets();\n        this.fixDate();\n        this.makePDF();\n      }\n    },\n\n    // Sending an email using SmtpJS\n    sendForm(Data) {\n      // add <br> for spacing with enter key\n      this.form.objective = this.form.objective.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n      this.form.target = this.form.target.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\");\n      this.form.competitors = this.form.competitors.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n      this.form.material = this.form.material.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n      this.form.additional = this.form.additional.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n\n      this.assetList = this.assetList.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\");\n      this.addressList = this.addressList.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\");\n\n      var self = this;\n      this.sending = true;\n      var dataUri = `data:application/pdf;base64,${Data}`;\n      Email.send({\n        Host: \"smtp.gmail.com\",\n        Username: USER,\n        Password: PASS,\n        To: \"yohan.choi@davidandgolyat.com\",\n        Cc: this.form.email,\n        From: USER,\n        Subject: `Request from ${this.user_name}`,\n        Body: `<div style='overflow-x: auto'>\n          <h1 align='center' style='color: black'>BRIEFING FORM</h1>\n          <table align='center' border='1' cellpadding='5' cellspacing='0' width='100%'\n          style='font-family: Helvetica; color: #000000; border-collapse: collapse; text-align: center; border-color: black; vertical-align:middle;'>\n          <tr>\n          <th colspan='4' bgcolor='#000000' style='color: white'>REQUEST OVERVIEW</th>\n          </tr>\n          <tr>\n          <td rowspan='3' width='25%'>CLIENT INFORMATION</td>\n          <td width='20%'>REQUESTED BY</td>\n          <td colspan='2' width='55%'>\n          ${this.form.requester}\n          </td>\n          </tr>\n          <tr>\n          <td>E-MAIL</td>\n          <td colspan='2'>\n          ${this.form.email}\n          </td>\n          </tr>\n          <tr>\n          <td>ADVERTISER</td>\n          <td colspan='2'>\n          ${this.form.advertiser}\n          </td>\n          </tr>\n          <tr>\n          <td rowspan='5' bgcolor='Black' style='color: white;'>CAMPAIGN AND BILLING INFORMATION</td>\n          <td rowspan='2'>CAMPAIGN</td>\n          <td width='15%'>NAME</td>\n          <td width='40%'>\n          ${this.form.campaignName}\n          </td>\n          </tr>\n          <tr>\n          <td>OBJECTIVE</td>\n          <td align='justify'>\n          ${this.form.objective}\n          </td>\n          </tr>\n          <tr>\n          <td rowspan='3'>BUDGET AND PERIOD</td>\n          <td>\n          ${this.form.currency}\n          </td>\n          <td>\n          ${this.form.budget}\n          </td>\n          </tr>\n          <tr>\n          <td>START DATE</td>\n          <td>\n          ${this.form.startDate}\n          </td>\n          </tr>\n          <tr>\n          <td>END DATE</td>\n          <td>\n          ${this.form.endDate}\n          </td>\n          </tr>\n          <tr>\n          <td rowspan='4'>MARKET INFORMATION</td>\n          <td>TARGET MARKET</td>\n          <td colspan='2' width='55%' align='justify'>\n          ${this.form.target}\n          </td>\n          </tr>\n          <tr>\n          <td id='second'>COMPETITORS</td>\n          <td colspan='2' align='justify'>\n          ${this.form.competitors}\n          </td>\n          </tr>\n          <tr>\n          <td>MATERIALS</td>\n          <td colspan='2' align='justify'>\n          ${this.form.material}\n          </td>\n          </tr>\n          <tr>\n          <td>ADDITIONAL INFO</td>\n          <td colspan='2' align='justify'>\n          ${this.form.additional}\n          </td>\n          </tr>\n          <tr>\n          <td bgcolor='Black' style='color: white'>DIGITAL ASSETS</td>\n          <td>\n          ${this.assetList}\n          </td>\n          <td colspan='2'>\n          ${this.addressList}\n          </td>\n          </tr>\n          </table>\n          </div>`,\n        Attachments: [\n          {\n            name: `Briefing Form_${this.user_name}.pdf`,\n            data: dataUri\n          },\n          {\n            name: this.attachName,\n            data: this.dataUriForFiles\n          }\n        ]\n      }).then(message => {\n        console.log(message);\n        this.clearForm();\n        this.$router.push({\n          name: \"thankyou\"\n        });\n      });\n    },\n\n    //Make PDF File(JS)\n    makePDF() {\n      var fs = require(\"fs\");\n      var pdfMake = require(\"pdfmake/build/pdfmake.js\");\n      this.buttonMsg = \"Sending...Please Wait\";\n      if (pdfMake.vfs == undefined) {\n        var pdfFonts = require(\"pdfmake/build/vfs_fonts.js\");\n        pdfMake.vfs = pdfFonts.pdfMake.vfs;\n      }\n      var docDefinition = {\n        content: [\n          {\n            text: `BRIEFING FORM OF ${this.user_name}`,\n            style: \"header\",\n            alignment: \"center\"\n          },\n          {\n            table: {\n              widths: [\"25%\", \"20%\", \"15%\", \"40%\"],\n              headerRows: 1,\n              body: [\n                // First Row\n                [\n                  {\n                    text: \"REQUEST OVERVIEW\",\n                    style: \"tableHeader\",\n                    colSpan: 4,\n                    alignment: \"center\"\n                  },\n                  \"\",\n                  \"\",\n                  \"\"\n                ],\n                // Client Information part\n                [\n                  {\n                    rowSpan: 3,\n                    text: \"CLIENT INFORMATION\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: \"REQUESTED BY\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.requester,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"E-MAIL\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.email,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"ADVERTISER\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.advertiser,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ],\n                // Campaign and billing Information part\n                [\n                  {\n                    rowSpan: 5,\n                    text: \"CAMPAIGN AND BILLING INFORMATION\",\n                    alignment: \"center\"\n                  },\n                  {\n                    rowSpan: 2,\n                    text: \"CAMPAIGN\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: \"NAME\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.campaignName,\n                    alignment: \"center\"\n                  }\n                ],\n                [\n                  \"\",\n                  \"\",\n                  {\n                    text: \"OBJECTIVE\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.objective,\n                    alignment: \"justify\"\n                  }\n                ],\n                [\n                  \"\",\n                  {\n                    rowSpan: 3,\n                    text: \"BUDGET AND PERIOD\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.currency,\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.budget,\n                    alignment: \"center\"\n                  }\n                ],\n                [\n                  \"\",\n                  \"\",\n                  {\n                    text: \"START DATE\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.startDate,\n                    alignment: \"center\"\n                  }\n                ],\n                [\n                  \"\",\n                  \"\",\n                  {\n                    text: \"END DATE\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.endDate,\n                    alignment: \"center\"\n                  }\n                ],\n                // Market Information Part\n                [\n                  {\n                    rowSpan: 4,\n                    text: \"MARKET INFORMATION\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: \"TARGET MARKET\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.target,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"COMPETITORS\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.competitors,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"MATERIALS\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.material,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"ADDITIONAL INFO\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.additional,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                // Digital Assets part\n                [\n                  {\n                    text: \"DIGITAL ASSETS\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.assetList,\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.addressList,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ]\n              ]\n            }\n          }\n        ],\n        styles: {\n          header: {\n            fontSize: 18,\n            bold: true,\n            margin: [0, 0, 0, 10]\n          }\n        },\n        defaultStyle: {}\n      };\n      //pdfMake.createPdf(docDefinition).download(\"test.pdf\");\n      var pdf = pdfMake.createPdf(docDefinition);\n      var pdfData;\n      var self = this;\n      pdf.getBase64(function(encodedString) {\n        pdfData = encodedString;\n        self.sendForm(pdfData);\n      });\n    },\n\n    // To save Digital Assets for PDF form\n    saveDigitalAssets() {\n      for (var item in this.form.rowData) {\n        this.assetList += this.form.rowData[item].assets + \"\\n\";\n        this.addressList += this.form.rowData[item].address + \"\\n\";\n      }\n    },\n\n    // To fix date\n    fixDate() {\n      this.form.startDate = this.form.startDate.toString().substring(4, 15);\n      this.form.endDate = this.form.endDate.toString().substring(4, 15);\n    },\n\n    // Clear Form after sending an email\n    clearForm() {\n      this.$v.$reset();\n      this.form.requester = \"\";\n      this.form.email = \"\";\n      this.form.advertiser = \"\";\n      this.form.campaignName = \"\";\n      this.form.startDate = \"\";\n      this.form.endDate = \"\";\n      this.form.currency = \"PHP\";\n      this.form.budget = \"\";\n      this.form.objective = \"\";\n      this.form.target = \"\";\n      this.form.material = \"\";\n      this.form.competitors = \"\";\n      this.form.additional = \"\";\n      this.form.assets = \"\";\n      this.form.address = \"\";\n      this.form.rowData = [];\n    },\n    // Make Zip file for multiple attachments\n    onFileChange() {\n      var zip = new jsZip();\n      var numberOfFiles = event.srcElement.files.length;\n      var numberOfProcessedFiles = 0;\n      var self = this;\n      for (var i = 0; i < numberOfFiles; i++) {\n        (function(i) {\n          var file = event.srcElement.files[i];\n          var reader = new FileReader();\n          reader.readAsBinaryString(file);\n          reader.onload = function() {\n            numberOfProcessedFiles++;\n            zip.file(file.name, btoa(reader.result), { base64: true });\n            if (numberOfProcessedFiles) {\n              zip.generateAsync({ type: \"base64\" }).then(function(content) {\n                self.dataUriForFiles = `data:application/x-zip-compressed;base64,${content}`;\n                self.attachName = \"Attachment.zip\";\n              });\n            }\n          };\n        })(i);\n      }\n    }\n  },\n  mounted() {\n    this.addLine();\n    this.user_name = this.$route.params.code;\n    console.log(`Hello, ${this.user_name}`);\n\n    // To prevent unauthorized approach\n    if (this.user_name == null) {\n      alert(\"Login Required.\");\n      this.$router.push(\"login\");\n    }\n  }\n};\n",{"version":3,"sources":["BriefingForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0OA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BriefingForm.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"wrapper\" id=\"content\">\n    <div class=\"section\">\n      <div class=\"container\">\n        <md-card>\n          <h1 class=\"title\" style=\"text-align:center\">{{ user_name }}</h1>\n          <form novalidate @submit.prevent=\"validateForm\">\n            <div class=\"md-layout\">\n              <div\n                class=\"md-layout-item md-size-25 md-xsmall-size-100 md-small-size-50 md-medium-size-25\"\n              >\n                <md-field :class=\"getValidationClass('requester')\">\n                  <label for=\"requester\">Requester</label>\n                  <md-input\n                    name=\"requester\"\n                    id=\"requester\"\n                    v-model=\"form.requester\"\n                    type=\"text\"\n                    :disabled=\"sending\"\n                    required\n                  ></md-input>\n                  <span class=\"md-error\" v-if=\"!$v.form.requester.required\">Kindly Fill this field</span>\n                  <span class=\"md-error\" v-else-if=\"!$v.form.requester.minlength\">Invalid requester</span>\n                </md-field>\n              </div>\n              <div\n                class=\"md-layout-item md-size-25 md-xsmall-size-100 md-small-size-50 md-medium-size-25\"\n              >\n                <md-field :class=\"getValidationClass('email')\">\n                  <label for=\"requester\">Requester's Email</label>\n                  <md-input\n                    name=\"email\"\n                    id=\"email\"\n                    v-model=\"form.email\"\n                    type=\"email\"\n                    :disabled=\"sending\"\n                    required\n                  ></md-input>\n                  <span class=\"md-error\" v-if=\"!$v.form.email.required\">Kindly Fill this field</span>\n                  <span class=\"md-error\" v-else-if=\"!$v.form.email.email\">Invalid email!</span>\n                </md-field>\n              </div>\n              <div\n                class=\"md-layout-item md-size-25 md-xsmall-size-100 md-small-size-50 md-medium-size-25\"\n              >\n                <md-field :class=\"getValidationClass('advertiser')\">\n                  <label for=\"advertiser\">Advertiser</label>\n                  <md-input\n                    name=\"advertiser\"\n                    id=\"advertiser\"\n                    v-model=\"form.advertiser\"\n                    type=\"text\"\n                    :disabled=\"sending\"\n                    required\n                  ></md-input>\n                  <span class=\"md-error\" v-if=\"!$v.form.advertiser.required\">Kindly Fill this field</span>\n                  <span class=\"md-error\" v-else-if=\"!$v.form.advertiser.minlength\">Invalid requester</span>\n                </md-field>\n              </div>\n              <div\n                class=\"md-layout-item md-size-25 md-xsmall-size-100 md-small-size-50 md-medium-size-25\"\n              >\n                <md-field :class=\"getValidationClass('campaignName')\">\n                  <label for=\"campaign-name\">Campaign Name</label>\n                  <md-input\n                    name=\"campaign-name\"\n                    id=\"campaign-name\"\n                    v-model=\"form.campaignName\"\n                    :disabled=\"sending\"\n                    type=\"text\"\n                    required\n                  ></md-input>\n                  <span\n                    class=\"md-error\"\n                    v-if=\"!$v.form.campaignName.required\"\n                  >Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div\n                class=\"md-layout-item md-size-30 md-xsmall-size-50 md-small-size-50 md-medium-size-50\"\n              >\n                <md-datepicker\n                  :class=\"getValidationClass('startDate')\"\n                  v-model=\"form.startDate\"\n                  :disabled=\"sending\"\n                  required\n                >\n                  <label>Campaign starts</label>\n                  <span class=\"md-error\" v-if=\"!$v.form.startDate.required\">Kindly Fill this field</span>\n                </md-datepicker>\n              </div>\n              <div\n                class=\"md-layout-item md-size-30 md-xsmall-size-50 md-small-size-50 md-medium-size-50\"\n              >\n                <md-datepicker\n                  :class=\"getValidationClass('endDate')\"\n                  v-model=\"form.endDate\"\n                  :disabled=\"sending\"\n                  required\n                >\n                  <label>Campaign ends</label>\n                  <span class=\"md-error\" v-if=\"!$v.form.endDate.required\">Kindly Fill this field</span>\n                </md-datepicker>\n              </div>\n              <div\n                class=\"md-layout-item md-size-10 md-xsmall-size-30 md-small-size-30 md-medium-size-30\"\n              >\n                <md-field :class=\"getValidationClass('currency')\">\n                  <label>Currency</label>\n                  <md-select v-model=\"form.currency\" :disabled=\"sending\" required>\n                    <md-option default value=\"PHP\">PHP</md-option>\n                    <md-option value=\"USD\">USD</md-option>\n                  </md-select>\n                  <span class=\"md-error\" v-if=\"!$v.form.currency.required\">Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div\n                class=\"md-layout-item md-size-30 md-xsmall-size-70 md-small-size-70 md-medium-size-70\"\n              >\n                <md-field :class=\"getValidationClass('budget')\">\n                  <label>Estimated Budget</label>\n                  <md-input v-model=\"form.budget\" :disabled=\"sending\" type=\"number\" required></md-input>\n                  <span class=\"md-error\" v-if=\"!$v.form.budget.required\">Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div class=\"md-layout-item md-size-100\">\n                <md-field :class=\"getValidationClass('objective')\">\n                  <label>Campaign Objective</label>\n                  <md-textarea v-model=\"form.objective\" :disabled=\"sending\" md-autogrow required></md-textarea>\n                  <span class=\"md-error\" v-if=\"!$v.form.objective.required\">Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div class=\"md-layout-item md-size-100\">\n                <md-field :class=\"getValidationClass('target')\">\n                  <label>Target Market</label>\n                  <md-textarea v-model=\"form.target\" :disabled=\"sending\" md-autogrow required></md-textarea>\n                  <span class=\"md-error\" v-if=\"!$v.form.target.required\">Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div class=\"md-layout-item md-size-100\">\n                <md-field :class=\"getValidationClass('competitors')\">\n                  <label>Competitors</label>\n                  <md-textarea v-model=\"form.competitors\" :disabled=\"sending\" md-autogrow required></md-textarea>\n                  <span class=\"md-error\" v-if=\"!$v.form.competitors.required\">Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div class=\"md-layout-item md-size-100\">\n                <md-field :class=\"getValidationClass('material')\">\n                  <label>Planned Materials</label>\n                  <md-textarea v-model=\"form.material\" :disabled=\"sending\" md-autogrow required></md-textarea>\n                  <span class=\"md-error\" v-if=\"!$v.form.material.required\">Kindly Fill this field</span>\n                </md-field>\n              </div>\n              <div class=\"md-layout-item md-size-100\">\n                <md-field>\n                  <label>Additional Campaign Information</label>\n                  <md-textarea v-model=\"form.additional\" md-autogrow></md-textarea>\n                </md-field>\n              </div>\n              <div\n                class=\"md-layout-item md-size-55 md-xsmall-size-100 md-small-size-100 md-medium-size-100\"\n              >\n                <md-table>\n                  <md-table-row\n                    slot=\"md-table-row\"\n                    v-for=\"(item,index) in form.rowData\"\n                    :key=\"index\"\n                  >\n                    <md-table-cell>\n                      <md-field>\n                        <label>Digital Assets</label>\n                        <md-select v-model=\"item.assets\">\n                          <md-option value=\"Facebook\">Facebook</md-option>\n                          <md-option value=\"Twitter\">Twitter</md-option>\n                          <md-option value=\"Instagram\">Instagram</md-option>\n                          <md-option value=\"LinkedIn\">LinkedIn</md-option>\n                          <md-option value=\"Youtube\">Youtube</md-option>\n                          <md-option value=\"Website\">Website</md-option>\n                        </md-select>\n                      </md-field>\n                    </md-table-cell>\n                    <md-table-cell>\n                      <md-field>\n                        <md-input\n                          v-model=\"item.address\"\n                          type=\"text\"\n                          placeholder=\"ex)https://www.facebook.com/Example\"\n                        ></md-input>\n                      </md-field>\n                    </md-table-cell>\n                    <md-table-cell>\n                      <md-button class=\"md-just-icon md-round md-info\" @click=\"addLine\">\n                        <md-icon>add</md-icon>\n                      </md-button>\n                      <md-button\n                        class=\"md-just-icon md-round md-info\"\n                        @click=\"deleteLine(index)\"\n                        v-if=\"form.rowData.length > 1\"\n                      >\n                        <md-icon>delete</md-icon>\n                      </md-button>\n                    </md-table-cell>\n                  </md-table-row>\n                </md-table>\n              </div>\n              <div\n                class=\"md-layout-item md-size-45 md-xsmall-size-100 md-small-size-100 md-medium-size-100\"\n                id=\"ignorePDF\"\n              >\n                <md-field>\n                  <label>Additional attachments (Multiple files are allowed)</label>\n                  <md-file v-model=\"multiple\" id=\"myFile\" @change=\"onFileChange()\" multiple/>\n                </md-field>\n              </div>\n              <br>\n            </div>\n\n            <div class=\"md-layout md-gutter\">\n              <div class=\"md-layout-item\"></div>\n              <div class=\"md-layout-item\" align=\"center\">\n                <md-button class=\"md-info md-lg\" type=\"submit\" v-if=\"!sending\">{{ buttonMsg }}</md-button>\n                <md-button class=\"md-danger md-lg\" v-if=\"sending\">{{ buttonMsg }}</md-button>\n              </div>\n\n              <div class=\"md-layout-item\"></div>\n            </div>\n          </form>\n        </md-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport router from \"../router\";\nimport jsZip from \"jszip\";\nimport { validationMixin } from \"vuelidate\";\nimport { required, email, minLength } from \"vuelidate/lib/validators\";\nimport { USER, PASS } from \"../API_KEY\";\n\nexport default {\n  name: \"briefingform\",\n  mixins: [validationMixin],\n  data: () => ({\n    isLogin: true,\n    user_name: null,\n    lines: [],\n    multiple: null,\n    dataUriForFiles: \"\",\n    attachName: \"\",\n    blockRemoval: true,\n    assetList: \"\",\n    addressList: \"\",\n    path: \"\",\n    form: {\n      requester: \"\",\n      email: \"\",\n      advertiser: \"\",\n      campaignName: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      currency: \"PHP\",\n      budget: \"\",\n      objective: \"\",\n      target: \"\",\n      material: \"\",\n      competitors: \"\",\n      additional: \"\",\n      assets: \"\",\n      address: \"\",\n      rowData: []\n    },\n    userSaved: false,\n    sending: false,\n    buttonMsg: \"Submit Request\"\n  }),\n  validations: {\n    form: {\n      requester: {\n        required,\n        minLength: minLength(3)\n      },\n      email: {\n        required,\n        email\n      },\n      advertiser: {\n        required,\n        maxLength: minLength(3)\n      },\n      campaignName: {\n        required\n      },\n      startDate: {\n        required\n      },\n      endDate: {\n        required\n      },\n      currency: {\n        required\n      },\n      budget: {\n        required\n      },\n      objective: {\n        required\n      },\n      target: {\n        required\n      },\n      competitors: {\n        required\n      },\n      material: {\n        required\n      }\n    }\n  },\n  methods: {\n    getValidationClass(fieldName) {\n      const field = this.$v.form[fieldName];\n\n      if (field) {\n        return {\n          \"md-invalid\": field.$invalid && field.$dirty\n        };\n      }\n    },\n\n    // To add line for digital assets\n    addLine() {\n      var my_object = {\n        asset: this.form.assets,\n        address: this.form.address\n      };\n      this.form.rowData.push(my_object);\n\n      this.form.assets = \"\";\n      this.form.address = \"\";\n    },\n\n    // Delete line in digital assets line\n    deleteLine(lineId) {\n      this.form.rowData.splice(lineId, 1);\n    },\n\n    // To validate Form which is required\n    validateForm() {\n      this.$v.$touch();\n\n      if (!this.$v.$invalid) {\n        this.saveDigitalAssets();\n        this.fixDate();\n        this.makePDF();\n      }\n    },\n\n    // Sending an email using SmtpJS\n    sendForm(Data) {\n      // add <br> for spacing with enter key\n      this.form.objective = this.form.objective.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n      this.form.target = this.form.target.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\");\n      this.form.competitors = this.form.competitors.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n      this.form.material = this.form.material.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n      this.form.additional = this.form.additional.replace(\n        /(?:\\r\\n|\\r|\\n)/g,\n        \"<br>\"\n      );\n\n      this.assetList = this.assetList.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\");\n      this.addressList = this.addressList.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\");\n\n      var self = this;\n      this.sending = true;\n      var dataUri = `data:application/pdf;base64,${Data}`;\n      Email.send({\n        Host: \"smtp.gmail.com\",\n        Username: USER,\n        Password: PASS,\n        To: \"yohan.choi@davidandgolyat.com\",\n        Cc: this.form.email,\n        From: USER,\n        Subject: `Request from ${this.user_name}`,\n        Body: `<div style='overflow-x: auto'>\n          <h1 align='center' style='color: black'>BRIEFING FORM</h1>\n          <table align='center' border='1' cellpadding='5' cellspacing='0' width='100%'\n          style='font-family: Helvetica; color: #000000; border-collapse: collapse; text-align: center; border-color: black; vertical-align:middle;'>\n          <tr>\n          <th colspan='4' bgcolor='#000000' style='color: white'>REQUEST OVERVIEW</th>\n          </tr>\n          <tr>\n          <td rowspan='3' width='25%'>CLIENT INFORMATION</td>\n          <td width='20%'>REQUESTED BY</td>\n          <td colspan='2' width='55%'>\n          ${this.form.requester}\n          </td>\n          </tr>\n          <tr>\n          <td>E-MAIL</td>\n          <td colspan='2'>\n          ${this.form.email}\n          </td>\n          </tr>\n          <tr>\n          <td>ADVERTISER</td>\n          <td colspan='2'>\n          ${this.form.advertiser}\n          </td>\n          </tr>\n          <tr>\n          <td rowspan='5' bgcolor='Black' style='color: white;'>CAMPAIGN AND BILLING INFORMATION</td>\n          <td rowspan='2'>CAMPAIGN</td>\n          <td width='15%'>NAME</td>\n          <td width='40%'>\n          ${this.form.campaignName}\n          </td>\n          </tr>\n          <tr>\n          <td>OBJECTIVE</td>\n          <td align='justify'>\n          ${this.form.objective}\n          </td>\n          </tr>\n          <tr>\n          <td rowspan='3'>BUDGET AND PERIOD</td>\n          <td>\n          ${this.form.currency}\n          </td>\n          <td>\n          ${this.form.budget}\n          </td>\n          </tr>\n          <tr>\n          <td>START DATE</td>\n          <td>\n          ${this.form.startDate}\n          </td>\n          </tr>\n          <tr>\n          <td>END DATE</td>\n          <td>\n          ${this.form.endDate}\n          </td>\n          </tr>\n          <tr>\n          <td rowspan='4'>MARKET INFORMATION</td>\n          <td>TARGET MARKET</td>\n          <td colspan='2' width='55%' align='justify'>\n          ${this.form.target}\n          </td>\n          </tr>\n          <tr>\n          <td id='second'>COMPETITORS</td>\n          <td colspan='2' align='justify'>\n          ${this.form.competitors}\n          </td>\n          </tr>\n          <tr>\n          <td>MATERIALS</td>\n          <td colspan='2' align='justify'>\n          ${this.form.material}\n          </td>\n          </tr>\n          <tr>\n          <td>ADDITIONAL INFO</td>\n          <td colspan='2' align='justify'>\n          ${this.form.additional}\n          </td>\n          </tr>\n          <tr>\n          <td bgcolor='Black' style='color: white'>DIGITAL ASSETS</td>\n          <td>\n          ${this.assetList}\n          </td>\n          <td colspan='2'>\n          ${this.addressList}\n          </td>\n          </tr>\n          </table>\n          </div>`,\n        Attachments: [\n          {\n            name: `Briefing Form_${this.user_name}.pdf`,\n            data: dataUri\n          },\n          {\n            name: this.attachName,\n            data: this.dataUriForFiles\n          }\n        ]\n      }).then(message => {\n        console.log(message);\n        this.clearForm();\n        this.$router.push({\n          name: \"thankyou\"\n        });\n      });\n    },\n\n    //Make PDF File(JS)\n    makePDF() {\n      var fs = require(\"fs\");\n      var pdfMake = require(\"pdfmake/build/pdfmake.js\");\n      this.buttonMsg = \"Sending...Please Wait\";\n      if (pdfMake.vfs == undefined) {\n        var pdfFonts = require(\"pdfmake/build/vfs_fonts.js\");\n        pdfMake.vfs = pdfFonts.pdfMake.vfs;\n      }\n      var docDefinition = {\n        content: [\n          {\n            text: `BRIEFING FORM OF ${this.user_name}`,\n            style: \"header\",\n            alignment: \"center\"\n          },\n          {\n            table: {\n              widths: [\"25%\", \"20%\", \"15%\", \"40%\"],\n              headerRows: 1,\n              body: [\n                // First Row\n                [\n                  {\n                    text: \"REQUEST OVERVIEW\",\n                    style: \"tableHeader\",\n                    colSpan: 4,\n                    alignment: \"center\"\n                  },\n                  \"\",\n                  \"\",\n                  \"\"\n                ],\n                // Client Information part\n                [\n                  {\n                    rowSpan: 3,\n                    text: \"CLIENT INFORMATION\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: \"REQUESTED BY\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.requester,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"E-MAIL\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.email,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"ADVERTISER\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.advertiser,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ],\n                // Campaign and billing Information part\n                [\n                  {\n                    rowSpan: 5,\n                    text: \"CAMPAIGN AND BILLING INFORMATION\",\n                    alignment: \"center\"\n                  },\n                  {\n                    rowSpan: 2,\n                    text: \"CAMPAIGN\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: \"NAME\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.campaignName,\n                    alignment: \"center\"\n                  }\n                ],\n                [\n                  \"\",\n                  \"\",\n                  {\n                    text: \"OBJECTIVE\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.objective,\n                    alignment: \"justify\"\n                  }\n                ],\n                [\n                  \"\",\n                  {\n                    rowSpan: 3,\n                    text: \"BUDGET AND PERIOD\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.currency,\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.budget,\n                    alignment: \"center\"\n                  }\n                ],\n                [\n                  \"\",\n                  \"\",\n                  {\n                    text: \"START DATE\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.startDate,\n                    alignment: \"center\"\n                  }\n                ],\n                [\n                  \"\",\n                  \"\",\n                  {\n                    text: \"END DATE\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.form.endDate,\n                    alignment: \"center\"\n                  }\n                ],\n                // Market Information Part\n                [\n                  {\n                    rowSpan: 4,\n                    text: \"MARKET INFORMATION\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: \"TARGET MARKET\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.target,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"COMPETITORS\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.competitors,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"MATERIALS\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.material,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                [\n                  \"\",\n                  {\n                    text: \"ADDITIONAL INFO\",\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.form.additional,\n                    alignment: \"justify\"\n                  },\n                  \"\"\n                ],\n                // Digital Assets part\n                [\n                  {\n                    text: \"DIGITAL ASSETS\",\n                    alignment: \"center\"\n                  },\n                  {\n                    text: this.assetList,\n                    alignment: \"center\"\n                  },\n                  {\n                    colSpan: 2,\n                    text: this.addressList,\n                    alignment: \"center\"\n                  },\n                  \"\"\n                ]\n              ]\n            }\n          }\n        ],\n        styles: {\n          header: {\n            fontSize: 18,\n            bold: true,\n            margin: [0, 0, 0, 10]\n          }\n        },\n        defaultStyle: {}\n      };\n      //pdfMake.createPdf(docDefinition).download(\"test.pdf\");\n      var pdf = pdfMake.createPdf(docDefinition);\n      var pdfData;\n      var self = this;\n      pdf.getBase64(function(encodedString) {\n        pdfData = encodedString;\n        self.sendForm(pdfData);\n      });\n    },\n\n    // To save Digital Assets for PDF form\n    saveDigitalAssets() {\n      for (var item in this.form.rowData) {\n        this.assetList += this.form.rowData[item].assets + \"\\n\";\n        this.addressList += this.form.rowData[item].address + \"\\n\";\n      }\n    },\n\n    // To fix date\n    fixDate() {\n      this.form.startDate = this.form.startDate.toString().substring(4, 15);\n      this.form.endDate = this.form.endDate.toString().substring(4, 15);\n    },\n\n    // Clear Form after sending an email\n    clearForm() {\n      this.$v.$reset();\n      this.form.requester = \"\";\n      this.form.email = \"\";\n      this.form.advertiser = \"\";\n      this.form.campaignName = \"\";\n      this.form.startDate = \"\";\n      this.form.endDate = \"\";\n      this.form.currency = \"PHP\";\n      this.form.budget = \"\";\n      this.form.objective = \"\";\n      this.form.target = \"\";\n      this.form.material = \"\";\n      this.form.competitors = \"\";\n      this.form.additional = \"\";\n      this.form.assets = \"\";\n      this.form.address = \"\";\n      this.form.rowData = [];\n    },\n    // Make Zip file for multiple attachments\n    onFileChange() {\n      var zip = new jsZip();\n      var numberOfFiles = event.srcElement.files.length;\n      var numberOfProcessedFiles = 0;\n      var self = this;\n      for (var i = 0; i < numberOfFiles; i++) {\n        (function(i) {\n          var file = event.srcElement.files[i];\n          var reader = new FileReader();\n          reader.readAsBinaryString(file);\n          reader.onload = function() {\n            numberOfProcessedFiles++;\n            zip.file(file.name, btoa(reader.result), { base64: true });\n            if (numberOfProcessedFiles) {\n              zip.generateAsync({ type: \"base64\" }).then(function(content) {\n                self.dataUriForFiles = `data:application/x-zip-compressed;base64,${content}`;\n                self.attachName = \"Attachment.zip\";\n              });\n            }\n          };\n        })(i);\n      }\n    }\n  },\n  mounted() {\n    this.addLine();\n    this.user_name = this.$route.params.code;\n    console.log(`Hello, ${this.user_name}`);\n\n    // To prevent unauthorized approach\n    if (this.user_name == null) {\n      alert(\"Login Required.\");\n      this.$router.push(\"login\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}